{"version":3,"sources":["../../../public/javascripts/main.js"],"names":["langName","document","querySelector","btn","image","createElement","text","regExp","RegExp","classList","add","addEventListener","console","log","xhr","XMLHttpRequest","data","value","params","test","open","onreadystatechange","readyState","status","resObj","JSON","parse","responseText","src","imageUrl","innerHTML","description","lang","body","appendChild","send"],"mappings":";;AAAA,CAAC,CAAC,YAAY;AACV,QAAIA,WAAWC,SAASC,aAAT,CAAuB,YAAvB,CAAf;AAAA,QACIC,MAAMF,SAASC,aAAT,CAAuB,MAAvB,CADV;AAAA,QAEIE,QAAQH,SAASI,aAAT,CAAuB,KAAvB,CAFZ;AAAA,QAGIC,OAAOL,SAASI,aAAT,CAAuB,GAAvB,CAHX;AAAA,QAIIE,SAAS,IAAIC,MAAJ,CAAW,OAAX,CAJb,CADU,CAKwB;;AAElC;AACAF,SAAKG,SAAL,CAAeC,GAAf,CAAmB,MAAnB;AACAN,UAAMK,SAAN,CAAgBC,GAAhB,CAAoB,WAApB;;AAEA,QAAIP,GAAJ,EAAS;AACLA,YAAIQ,gBAAJ,CAAqB,OAArB,EAA8B,YAAY;AACtCC,oBAAQC,GAAR,CAAY,OAAZ;AACA,gBAAIC,MAAM,IAAIC,cAAJ,EAAV;AACA,gBAAIC,OAAOhB,SAASiB,KAApB;AACA,gBAAIC,eAAJ;AACA,gBAAIX,OAAOY,IAAP,CAAYH,IAAZ,CAAJ,EAAuB;AAAK;AACxBE,yBAAS,QAAQF,IAAjB;AACH,aAFD,MAEO;AAAqB;AACxBE,yBAAS,UAAUF,IAAnB;AACH;AACDF,gBAAIM,IAAJ,CAAS,KAAT,EAAgB,iBAAiBF,MAAjC,EAAyC,IAAzC;;AAEA;AACA;AACAJ,gBAAIO,kBAAJ,GAAyB,YAAY;AACjC,oBAAIP,IAAIQ,UAAJ,KAAmB,CAAnB,IAAwBR,IAAIS,MAAJ,KAAe,GAA3C,EAAgD;AAC5C,wBAAIC,SAASC,KAAKC,KAAL,CAAWZ,IAAIa,YAAf,CAAb;AACA,wBAAIH,OAAOD,MAAP,KAAkB,OAAtB,EAA+B;AAC3BnB,8BAAMwB,GAAN,GAAYJ,OAAOK,QAAnB;AACAvB,6BAAKwB,SAAL,GAAiBN,OAAOO,WAAxB;AACH,qBAHD,MAGO;AACH3B,8BAAMwB,GAAN,GAAYJ,OAAOQ,IAAP,CAAYH,QAAxB;AACAvB,6BAAKwB,SAAL,GAAiBN,OAAOQ,IAAP,CAAYD,WAA7B;AACH;AACD9B,6BAASgC,IAAT,CAAcC,WAAd,CAA0B9B,KAA1B;AACAH,6BAASgC,IAAT,CAAcC,WAAd,CAA0B5B,IAA1B;AACH;AACJ,aAbD;AAcAQ,gBAAIqB,IAAJ;AACH,SA7BD;AA8BH;AACJ,CA3CA","file":"main.js","sourcesContent":[";(function () {\n    let langName = document.querySelector('#lang_name'),\n        btn = document.querySelector('#btn'),\n        image = document.createElement('img'),\n        text = document.createElement('p'),\n        regExp = new RegExp(/^\\d+$/); //regexp for checking input data (only numbers)\n\n    //add class for image and text\n    text.classList.add('text');\n    image.classList.add('lang_logo');\n\n    if (btn) {\n        btn.addEventListener('click', function () {\n            console.log('catch');\n            let xhr = new XMLHttpRequest();\n            let data = langName.value;\n            let params;\n            if (regExp.test(data)) {    //if data is number send 'id'\n                params = 'id=' + data;\n            } else {                    //if string - send 'name'\n                params = 'name=' + data;\n            }\n            xhr.open('GET', '/test/query?' + params, true);\n\n            // receive request from server, parse JSON to object, add info to elements\n            // add elements to the DOM\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState === 4 && xhr.status === 200) {\n                    let resObj = JSON.parse(xhr.responseText);\n                    if (resObj.status === 'error') {\n                        image.src = resObj.imageUrl;\n                        text.innerHTML = resObj.description;\n                    } else {\n                        image.src = resObj.lang.imageUrl;\n                        text.innerHTML = resObj.lang.description;\n                    }\n                    document.body.appendChild(image);\n                    document.body.appendChild(text);\n                }\n            };\n            xhr.send();\n        });\n    }\n})();"]}